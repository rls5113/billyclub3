<html
        xmlns:th="http://thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<head>
    <title>Register</title>
</head>
<body layout:fragment="body">
<style>
    .main {
        /*padding: 80px 5px;*/
    }
    .red {
        color:red;
        font-weight: bold;
    }


</style>
    <div class="main">
        <form id="register-form" method="post" role="form" th:action="@{/register/save}" th:object="${user}">

        <div class="row col-md-6 offset-md-3">
            <div class="card">
            <div th:if="${#fields.hasAnyErrors()}">
                <div class="alert alert-danger">
                    Please fix the errors, to complete registration.
                </div>
            </div>
            <div class="card-header bg-primary">
                <h3 class="text-center text-light">Registration</h3>
            </div>
            <div class="card-body">

                    <div class="form-group mb-3">
                        <label class="form-label">Username<span class="red">*</span></label>
                        <input class="form-control"
                               id="username"
                               name="username"
                               placeholder="Enter username"
                               th:field="*{username}"
                               type="text" autofocus/>
                        <p th:errors="*{firstName}" class="error"
                           th:if="${#fields.hasErrors('firstName')}">
                        </p>
                     </div>

                    <div class="form-group mb-3">
                        <label class="form-label">First Name<span class="red">*</span></label>
                        <input class="form-control"
                               id="firstName"
                               name="firstName"
                               placeholder="Enter first name"
                               th:field="*{firstName}"
                               type="text"
                        />
                        <p th:errors="*{firstName}" class="error"
                           th:if="${#fields.hasErrors('firstName')}">
                        </p>
                    </div>

                    <div class="form-group mb-3">
                        <label class="form-label">Last Name<span class="red">*</span></label>
                        <input class="form-control"
                               id="lastName"
                               name="lastName"
                               placeholder="Enter last name"
                               th:field="*{lastName}"
                               type="text"
                        />
                        <p th:errors="*{lastName}" class="error"
                           th:if="${#fields.hasErrors('lastName')}">
                        </p>
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label">Email<span class="red">*</span></label>
                        <input class="form-control"
                               id="email"
                               name="email"
                               placeholder="Enter email address"
                               th:field="*{email}"
                               type="email"
                        />
                        <p th:errors="*{email}" class="error"
                           th:if="${#fields.hasErrors('email')}">
                        </p>
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label">Password<span class="red">*</span></label>
                        <input class="form-control"
                               id="password"
                               name="password"
                               placeholder="Enter password"
                               th:field="*{password}"
                               type="password"
                        />
                        <p th:errors="*{password}" class="error"
                           th:if="${#fields.hasErrors('password')}">
                        </p>
                    </div>

                    <div class="form-group mb-3">
                        <button class="btn btn-primary" type="submit">Click to Register</button>
                    </div>

            </div>
        </div>
        </div>
        </form>
    </div>
<script>
    $(document).ready(function() {

        $("#register-form").validate({
            rules:{
                username: "required",
                firstName: "required",
                lastName: "required",
                email: {
                    required: true,
                    email: true
                },
                password: "required"
            },
            messages: {
                username: "Username should not be empty.",
                firstName: "First Name should not be empty. ",
                lastName: "Last Name should not be empty.",
                email: "Please enter a valid Email address.",
                password: "Password should not be empty."

            },
            submitHandler: function (form){
                form.submit();
            }
        });
    });
</script>

</body>
</html>